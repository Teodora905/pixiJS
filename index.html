<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>
  
</head>
<body>
  <div id="slot-container">
    <div id="reel"></div>
    <div id="win-frame"></div>
  </div>
  <div id="message"></div>
  <div id="spin-button"></div>

  <script type="module">
    import * as PIXI from 'https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js';
    
    const reel = document.getElementById('reel');
    const message = document.getElementById('message');
    // Create a PixiJS Application
    const app = new PIXI.Application({
      width: 500,
      height: 400,
      background: '#1099bb',
    });
    document.getElementById('slot-container').appendChild(app.view);
    //const reelContainer = new PIXI.Container();
    //app.stage.addChild(reelContainer);
    const json = PIXI.Assets.load("./assets/spritesheet/codingTaskAssets.json");
    console.log('json',json);
    //const myArr = JSON.parse(json);
    //console.log('myArr', myArr);
   
    json.then((resolvedTexture) =>{
        console.log('resolvedTexture', resolvedTexture);
        const spritesheet = new PIXI.Spritesheet(
            PIXI.Texture.from(resolvedTexture.data.meta.image),
            resolvedTexture
        );
        spritesheet.parse().then(() => {
          console.log('spritesheet', spritesheet);
        }).catch((error) => {
          console.error('Error parsing spritesheet:', error);
        });

      console.log('resolvedTexture.textures', resolvedTexture.textures);
      const symbols = resolvedTexture.textures;
      const symbolSprites = [];
      //symbolSprites = symbols.filter((symbol) => symbol.startsWith("symbol_"));
      //console.log('symbolSprites', symbolSprites);
      symbolSprites.push(symbols['symbol_9.png'], symbols['symbol_10.png'], symbols['symbol_ace.png'], symbols['symbol_axe.png'], symbols['symbol_brain.png'], symbols['symbol_crow.png'], symbols['symbol_jack.png'], symbols['symbol_king.png'],symbols['symbol_king.png'], symbols['symbol_rifle.png']);
      console.log('symbolSprites', symbolSprites);
    });
      
   
   
    
   
   
  </script>
</body>
</html>
